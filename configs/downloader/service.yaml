# Radarr Services
apiVersion: v1
kind: Service
metadata:
  name: radarr-server-lb
  namespace: downloader
  annotations:
    external-dns.alpha.kubernetes.io/hostname: "radarr.home"
    external-dns.alpha.kubernetes.io/ingress-hostname-source: "service-annotation-only"
spec:
  type: LoadBalancer
  ports:
    - port: 80
      targetPort: 7878
      name: http
    - port: 443
      targetPort: 7878
      name: https
  selector:
    app: radarr
---
apiVersion: v1
kind: Service
metadata:
  name: radarr
  namespace: downloader
  labels:
    app: radarr
spec:
  type: ClusterIP
  ports:
    - port: 7878
      targetPort: 7878
      name: web
  selector:
    app: radarr

# Sonarr Services
---
apiVersion: v1
kind: Service
metadata:
  name: sonarr-server-lb
  namespace: downloader
  annotations:
    external-dns.alpha.kubernetes.io/hostname: "sonarr.home"
    external-dns.alpha.kubernetes.io/ingress-hostname-source: "service-annotation-only"
spec:
  type: LoadBalancer
  ports:
    - port: 80
      targetPort: 8989
      name: http
    - port: 443
      targetPort: 8989
      name: https
  selector:
    app: sonarr
---
apiVersion: v1
kind: Service
metadata:
  name: sonarr
  namespace: downloader
  labels:
    app: sonarr
spec:
  type: ClusterIP
  ports:
    - port: 8989
      targetPort: 8989
      name: web
  selector:
    app: sonarr

# Prowlarr Services
---
apiVersion: v1
kind: Service
metadata:
  name: prowlarr-server-lb
  namespace: downloader
  annotations:
    external-dns.alpha.kubernetes.io/hostname: "prowlarr.home"
    external-dns.alpha.kubernetes.io/ingress-hostname-source: "service-annotation-only"
spec:
  type: LoadBalancer
  ports:
    - port: 80
      targetPort: 9696
      name: http
    - port: 443
      targetPort: 9696
      name: https
  selector:
    app: prowlarr
---
apiVersion: v1
kind: Service
metadata:
  name: prowlarr
  namespace: downloader
  labels:
    app: prowlarr
spec:
  type: ClusterIP
  ports:
    - port: 9696
      targetPort: 9696
      name: web
  selector:
    app: prowlarr
